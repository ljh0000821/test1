(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-task-defect-details","pages-task-defect-defectHandle~pages-task-defect-test~pages-task-hiddenDanger-addDanger~pages-task-h~ec327f7d","components-base-baseHistory"],{"00e0":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".container[data-v-fc154386]{margin:0 %?16?%;background:#fff;-webkit-box-shadow:0 %?4?% %?16?% 0 rgba(14,23,37,.08);box-shadow:0 %?4?% %?16?% 0 rgba(14,23,37,.08);-webkit-border-radius:%?24?%;border-radius:%?24?%;padding:%?15?% %?40?% %?15?% %?40?%;-webkit-box-sizing:border-box;box-sizing:border-box}",""]),e.exports=t},"031a":function(e,t,a){e.exports=a.p+"static/img/play.0a8dd945.png"},"03ec":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAADAUlEQVR4Xu3d0W7CMBBEUfL/H03Vh0oERCSTdSdmT5+LvTt7mbFTRLebn9YKbK271/wNAM0hAAAAmivQvH0OAIDmCjRvnwMAoLkCzdvnAABorkDz9jkAAJor0Lx9DgCA5go0b58DAKC5As3b5wAAaK5A8/Y5AACaK9C8fQ4AgOYKNG+fAwCglwL3+/1+1PG2ba3eFK2a/R08APb4A+DJDjjAlycCB+AAzgAPDIgAEfDlnv/UnggQASJABLx3PbeAL08EESACRIAIEAF/CrgGugZ+eei7Bh4OmANwAA7wqIBrYJiH2de01devHs/lImD1Ac2uHwAnP7Eze0Cz1wcAAEoZEAHFtwAOcJLP2QKuvv5JeV9ezgE4QDVT59Zb/R06u/5z6r6+etgBZjdo/eMRV+sDgMUiAADNr4EAAEDpB1pEgAgYO1dWW9Dz7tZ3CCy1OIAdAyUCRIAIqPxAyGoRxgE4AAfgAAMMrGZxDoEOgTsFALwHwhnAGWDA///hS5a8Qz0I8iDogIHqN4gIEAEiwDVwgIFqC3JNGxB/whlMBIiALIEcIKs/B+AAWQI5QFZ/DsABsgRygKz+HIADZAnkAFn9OQAHyBLIAbL6cwAOkCWQA2T15wAcYIzA2b/tr42zFd6vP+wAs8sDwGyFAbD0R86q8eAAi50BAND8CyIAAIBSBkSACCgF6vRibgGnJRxa4HIOMFT9B788G7APSoq+BADFERCd5gebAwAAH2Cz8EtEwMWfBM5mCwAAmPooeDbA1es7AzgDVDN17fVEgAgQAQ8MiAARcG3Lrq5OBIgAESAC3vuKfx5d7bkXW08EiAARIAJEwJ8C7a6BF0ukeDkAiI8gWwAAsvrHdwdAfATZAgCQ1T++OwDiI8gWAICs/vHdARAfQbYAAGT1j+8OgPgIsgUAIKt/fHcAxEeQLQAAWf3juwMgPoJsAQDI6h/fHQDxEWQLAEBW//juAIiPIFsAALL6x3cHQHwE2QIAkNU/vjsA4iPIFgCArP7x3QEQH0G2gB/fT8CuvJQgxwAAAABJRU5ErkJggg=="},"0fd6":function(e,t,a){var i=a("2f79");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("4f06").default;o("3a29162b",i,!0,{sourceMap:!1,shadowMode:!1})},1253:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/*每个页面公共css */uni-page-body[data-v-ea2202fc]{background-color:#dde4f2;font-family:PingFangSC-Medium,PingFang SC}.flex-center[data-v-ea2202fc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flex-around[data-v-ea2202fc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flex-between[data-v-ea2202fc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flex-start[data-v-ea2202fc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flex-end[data-v-ea2202fc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flex-column[data-v-ea2202fc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.flex-wrap[data-v-ea2202fc]{-webkit-flex-wrap:wrap;flex-wrap:wrap}.flex[data-v-ea2202fc]{display:-webkit-box;display:-webkit-flex;display:flex}.flex1[data-v-ea2202fc]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.align-center[data-v-ea2202fc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.text-center[data-v-ea2202fc]{text-align:center}.m-8[data-v-ea2202fc]{margin:%?8?%}.m-16[data-v-ea2202fc]{margin:%?16?%}.p-8[data-v-ea2202fc]{padding:%?8?%}.p-16[data-v-ea2202fc]{padding:%?16?%}.m-t-16[data-v-ea2202fc]{margin-top:%?16?%}.m-t-8[data-v-ea2202fc]{margin-top:%?8?%}.m-t-24[data-v-ea2202fc]{margin-top:%?24?%}.m-t-32[data-v-ea2202fc]{margin-top:%?32?%}.m-t-40[data-v-ea2202fc]{margin-top:%?40?%}.m-l-16[data-v-ea2202fc]{margin-left:%?16?%}.m-l-24[data-v-ea2202fc]{margin-left:%?24?%}.m-l-32[data-v-ea2202fc]{margin-left:%?32?%}.m-l-40[data-v-ea2202fc]{margin-left:%?40?%}.m-l-8[data-v-ea2202fc]{margin-left:%?8?%}.m-r-8[data-v-ea2202fc]{margin-right:%?8?%}.m-r-16[data-v-ea2202fc]{margin-right:%?16?%}.m-r-24[data-v-ea2202fc]{margin-right:%?24?%}.m-b-16[data-v-ea2202fc]{margin-bottom:%?16?%}.m-b-32[data-v-ea2202fc]{margin-bottom:%?32?%}.p-l-8[data-v-ea2202fc]{padding-left:%?8?%}.p-l-16[data-v-ea2202fc]{padding-left:%?16?%}.p-b-24[data-v-ea2202fc]{padding-bottom:%?24?%}.p-b-32[data-v-ea2202fc]{padding-bottom:%?32?%}.p-b-48[data-v-ea2202fc]{padding-bottom:%?48?%}.text-ellipsis[data-v-ea2202fc]{width:0;overflow:hidden;\r\n  /*超出部分隐藏*/white-space:nowrap;\r\n  /*不换行*/text-overflow:ellipsis\r\n  /*超出部分文字以...显示*/}.container[data-v-ea2202fc]{margin:0 %?16?%;background:#fff;-webkit-box-shadow:0 %?4?% %?16?% 0 rgba(14,23,37,.08);box-shadow:0 %?4?% %?16?% 0 rgba(14,23,37,.08);-webkit-border-radius:%?24?%;border-radius:%?24?%;padding:%?15?% %?40?%;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.ef-btn[data-v-ea2202fc]{width:%?200?%;height:%?60?%!important;-webkit-box-shadow:0 %?4?% %?16?% 0 rgba(14,23,37,.08);box-shadow:0 %?4?% %?16?% 0 rgba(14,23,37,.08);-webkit-border-radius:%?30?%;border-radius:%?30?%;margin-top:%?50?%;background-color:#05b2cc!important;font-size:%?24?%!important}.bg-orange[data-v-ea2202fc]{background-color:#f7b500}.bg-blue[data-v-ea2202fc]{background-color:#05b2cc}.bg-green[data-v-ea2202fc]{background-color:#00be27}.base-green-text[data-v-ea2202fc]{color:#05b2cc}.gray-text[data-v-ea2202fc]{color:#97a4ae}.green-text[data-v-ea2202fc]{color:#05b2cc}.red-text[data-v-ea2202fc]{color:red}.orange-text[data-v-ea2202fc]{color:orange}.border-b-gray[data-v-ea2202fc]{padding-bottom:%?16?%;border-bottom:1px solid #dde4f2}.title-icon[data-v-ea2202fc]{height:%?32?%}.ef-btn-normal[data-v-ea2202fc]{width:%?200?%;height:%?60?%!important;margin:%?20?% auto}.btn-primary[data-v-ea2202fc]{background-color:#05b2cc!important;color:#fff!important}.btn-normal[data-v-ea2202fc]{color:#05b2cc!important}.my-video[data-v-ea2202fc]{position:fixed;top:0;left:0;bottom:0;right:0;height:100%;width:100%;background-color:rgba(0,0,0,.5);z-index:3000}.list-item[data-v-ea2202fc]{border-left:1px solid #05b2cc;margin-left:%?30?%;padding-right:%?28?%;z-index:9;position:relative}.normal[data-v-ea2202fc]{font-size:%?30?%;color:#303133}.bold[data-v-ea2202fc]{font-weight:700}.left-icon[data-v-ea2202fc]{position:absolute;left:-12px;top:-1px;z-index:99;background-color:#fff}.green[data-v-ea2202fc]{color:#05b2cc}.red[data-v-ea2202fc]{color:red}body.?%PAGE?%[data-v-ea2202fc]{background-color:#dde4f2}',""]),e.exports=t},"1de5":function(e,t,a){"use strict";e.exports=function(e,t){return t||(t={}),e=e&&e.__esModule?e.default:e,"string"!==typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},2050:function(e,t,a){var i=a("4b45");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("4f06").default;o("6995ce14",i,!0,{sourceMap:!1,shadowMode:!1})},"2e3f":function(e,t,a){"use strict";var i=a("dbce");Object.defineProperty(t,"__esModule",{value:!0}),t.defOverdue=t.defFindByDef=t.defSaveOrUpdate=t.defclaDetail=t.deflist=void 0;var o=i(a("5f30")),r=function(e){return(0,o.default)({url:"/blade-sd/def/list",method:"get",data:e})};t.deflist=r;var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)({url:"/blade-sd/defcla/detail",method:"get",data:e})};t.defclaDetail=n;var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)({url:"/blade-sd/def/saveOrUpdate",method:"post",data:e})};t.defSaveOrUpdate=d;var s=function(e){return(0,o.default)({url:"/blade-sd/def/findByDef/"+e,method:"get"})};t.defFindByDef=s;var l=function(){return(0,o.default)({url:"/blade-sd/def/overdue",method:"get"})};t.defOverdue=l},"2f79":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".collapse-item[data-v-267f2fbb]{padding-bottom:10px}.container[data-v-267f2fbb]{margin:0 %?16?%;background:#fff;-webkit-box-shadow:0 %?4?% %?16?% 0 rgba(14,23,37,.08);box-shadow:0 %?4?% %?16?% 0 rgba(14,23,37,.08);-webkit-border-radius:%?24?%;border-radius:%?24?%;padding:%?15?% %?40?% %?15?% %?40?%;-webkit-box-sizing:border-box;box-sizing:border-box}\n/* .btn {\n    width: 200rpx;\n    height: 60rpx !important;\n    box-shadow: 0px 4rpx 16rpx 0px rgba(14, 23, 37, 0.08);\n    border-radius: 30rpx;\n    margin-top: 30rpx;\n    background-color: #05b2cc !important;\n    font-size: 24rpx !important;\n} */.custom-style[data-v-267f2fbb]{background-color:#05b2cc!important;color:#fff}.btn[data-v-267f2fbb]{width:%?200?%;height:%?60?%!important;margin-top:%?30?%}.btn-plain[data-v-267f2fbb]{border:1px solid #05b2cc;color:#05b2cc}",""]),e.exports=t},3313:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i}));var i={uIcon:a("ec6b").default,uLoadmore:a("88d6").default,uEmpty:a("e7ee").default},o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"list-box"},[e.listData.length>0?[e._l(e.listData,(function(t,i){return a("v-uni-view",{key:i,staticClass:"list-item flex p-b-48"},[a("v-uni-view",{staticClass:"left-icon"},[a("u-icon",{attrs:{name:"checkmark-circle-fill",color:"#05b2cc",size:"46"}})],1),a("v-uni-view",{staticClass:"flex1  m-l-32"},[a("v-uni-view",{staticClass:"flex1 flex-between m-b-16"},[a("v-uni-text",{staticClass:"normal"},[e._v(e._s(t.realState))]),a("v-uni-view",{staticClass:"flex-center"},[a("v-uni-text",{staticClass:"normal"},[e._v(e._s(t.oprUserName))]),a("v-uni-text",{class:[2==t.isAdopt?"green":"red"]},[e._v(e._s((2==t.isAdopt?"(已通过)":1==t.isAdopt&&"(未通过)")||""))])],1)],1),t.opinions?[a("v-uni-view",{staticClass:"m-b-16 normal flex"},[a("v-uni-view",[e._v("备注：")]),a("v-uni-view",{staticClass:"flex1"},[e._v(e._s(t.opinions||"无"))])],1)]:e._e(),a("v-uni-view",{staticClass:"m-b-16"},[a("v-uni-text",[e._v(e._s(t.updateTime))])],1)],2)],1)})),a("u-loadmore",{directives:[{name:"show",rawName:"v-show",value:e.listData.length>9,expression:"listData.length>9"}],attrs:{status:e.status,"icon-type":"flower","bg-color":"transperant"}})]:e._e(),0===e.listData.length?[a("u-empty")]:e._e()],2)},r=[]},"335c":function(e,t,a){"use strict";var i=a("2050"),o=a.n(i);o.a},"3f8b":function(e,t,a){"use strict";var i=a("4ea4");a("99af"),a("ace4"),a("a9e3"),a("d3b7"),a("ac1f"),a("8b09"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("2d38")),r=i(a("321d")),n=a("6742"),d=new o.default({sampleBits:16,sampleRate:48e3,numChannels:1}),s={name:"m-recorder",components:{efHorn:r.default},props:{voicePath:{type:String,default:""},maxTime:{type:Number,default:15},minTime:{type:Number,default:3}},data:function(){return{isShow:!1,frame:50,recordTime:0,recordTime1:0,isshowyuan:!1,playing:!1,timeObj:null,drawObj:null,countdownObj:null,newViocePath:"",recorder:d,recorderFile:null}},computed:{showRecordTime:function(){var e="",t=Math.floor(this.recordTime/60);t<10&&(e="0"+t);var a=this.recordTime%60;return e+=a<10?":0"+a:":"+a,e},_voicePath:function(){return this.newViocePath||this.voicePath}},watch:{},onLoad:function(){uni.authorize({scope:"scope.record",success:function(){}}),this.initValue()},mounted:function(){var e=this,t=uni.createSelectorQuery();t.select(".canvas").boundingClientRect(),t.exec((function(t){e.tempw=t[0].width,e.temph=t[0].height})),t.select(".recording").boundingClientRect(),t.exec((function(t){e.tempw1=t[0].width}))},beforeDestroy:function(){this.destroyRecorder()},methods:{moveHandle:function(){return!1},initValue:function(){},showPicker:function(){var e=this;setTimeout((function(){e.isShow=!0,e.$emit("show")}),100)},closePicker:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isShow=!1,this.initValue(),this.stopVoice(),e&&this.destroyRecorder(),this.$emit("close")},okClick:function(){this.closePicker(!1)},start:function(){console.log("start"),this.stopVoice(),this.recordTime=0,this.canvasObj=uni.createCanvasContext("canvas"),this.recorderFile=null},end:function(){console.log("end");var e=this.recordTime;if(this.recordTime1=this.recordTime,clearInterval(this.timeObj),clearInterval(this.drawObj),this.recordTime=0,this.isshowyuan=!1,this.canvasObj.setFillStyle("#fff"),this.canvasObj.fillRect(0,0,this.canvasObj.width,this.canvasObj.height),this.canvasObj.draw(),e<this.minTime)return e<=0||uni.showToast({title:"不能小于"+this.minTime+"秒,请重新录制",icon:"none"}),!1;d.stop(),this.recorderFile=this.convertToMp3(d.getWAV()),console.log(d,"recorder")},record:function(){console.log("record");var e=this;e.isshowyuan=!0,d.start().then((function(){}),(function(e){console.log(e,"录音器err"),console.log("".concat(e.name," : ").concat(e.message))})),e.timeObj=setInterval((function(){e.recordTime++,e.recordTime==e.maxTime&&e.end()}),1e3);var t=0;switch(uni.getSystemInfoSync().platform){case"android":t=0;break;case"ios":t=1;break;default:t=1;break}var a=e.tempw/2+t,i=e.temph/2+t,o=e.tempw1/2-4;e.canvasObj.beginPath(),e.canvasObj.setStrokeStyle("#05B2CC"),e.canvasObj.setGlobalAlpha(.3),e.canvasObj.setLineWidth(3),e.canvasObj.arc(a,i,o,0,2*Math.PI),e.canvasObj.stroke(),e.canvasObj.draw();var r=-.5;e.drawObj=setInterval((function(){e.canvasObj.beginPath(),e.canvasObj.setStrokeStyle("#05B2CC"),e.canvasObj.setGlobalAlpha(1),e.canvasObj.setLineWidth(3),e.canvasObj.arc(a,i,o,-.5*Math.PI,(r+=2/(1e3*e.maxTime/e.frame))*Math.PI,!1),e.canvasObj.stroke(),e.canvasObj.draw(!0)}),e.frame)},playVoice:function(){var e=this;null==this.recorderFile||this.playing||(console.log("playVoice",this._voicePath),d.pausePlay(),d.play(),this.playing=!0,this.recordTime=this.recordTime1,this.countdownObj=setInterval((function(){e.recordTime--,0!==e.recordTime||e.stopVoice()}),1e3))},stopVoice:function(){d.pausePlay(),this.playing=!1,this.recordTime=0,clearInterval(this.countdownObj)},destroyRecorder:function(){var e=this;d.destroy().then((function(){e.recorderFile=null}))},convertToMp3:function(e){for(var t=n.WavHeader.readHeader(e),a=t.channels,i=t.sampleRate,o=new n.Mp3Encoder(a,i,128),r=d.getChannelData(),s=[],l=r.left&&new Int16Array(r.left.buffer,0,r.left.byteLength/2),f=r.right&&new Int16Array(r.right.buffer,0,r.right.byteLength/2),c=l.length+(f?f.length:0),u=1152,m=0;m<c;m+=u){var p=l.subarray(m,m+u),b=null,v=null;2===a?(b=f.subarray(m,m+u),v=o.encodeBuffer(p,b)):v=o.encodeBuffer(p),v.length>0&&s.push(v)}var g=o.flush();return g.length>0&&s.push(g),new Blob(s,{type:"audio/mp3"})},delRecord:function(){console.log(66),this.destroyRecorder()}}};t.default=s},"4b45":function(e,t,a){var i=a("24fb"),o=a("1de5"),r=a("03ec"),n=a("650a"),d=a("031a"),s=a("f883");t=i(!1);var l=o(r),f=o(n),c=o(d),u=o(s);t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/*每个页面公共css */uni-page-body[data-v-48606ff3]{background-color:#dde4f2;font-family:PingFangSC-Medium,PingFang SC}.flex-center[data-v-48606ff3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flex-around[data-v-48606ff3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flex-between[data-v-48606ff3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flex-start[data-v-48606ff3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flex-end[data-v-48606ff3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flex-column[data-v-48606ff3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.flex-wrap[data-v-48606ff3]{-webkit-flex-wrap:wrap;flex-wrap:wrap}.flex[data-v-48606ff3]{display:-webkit-box;display:-webkit-flex;display:flex}.flex1[data-v-48606ff3]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.align-center[data-v-48606ff3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.text-center[data-v-48606ff3]{text-align:center}.m-8[data-v-48606ff3]{margin:%?8?%}.m-16[data-v-48606ff3]{margin:%?16?%}.p-8[data-v-48606ff3]{padding:%?8?%}.p-16[data-v-48606ff3]{padding:%?16?%}.m-t-16[data-v-48606ff3]{margin-top:%?16?%}.m-t-8[data-v-48606ff3]{margin-top:%?8?%}.m-t-24[data-v-48606ff3]{margin-top:%?24?%}.m-t-32[data-v-48606ff3]{margin-top:%?32?%}.m-t-40[data-v-48606ff3]{margin-top:%?40?%}.m-l-16[data-v-48606ff3]{margin-left:%?16?%}.m-l-24[data-v-48606ff3]{margin-left:%?24?%}.m-l-32[data-v-48606ff3]{margin-left:%?32?%}.m-l-40[data-v-48606ff3]{margin-left:%?40?%}.m-l-8[data-v-48606ff3]{margin-left:%?8?%}.m-r-8[data-v-48606ff3]{margin-right:%?8?%}.m-r-16[data-v-48606ff3]{margin-right:%?16?%}.m-r-24[data-v-48606ff3]{margin-right:%?24?%}.m-b-16[data-v-48606ff3]{margin-bottom:%?16?%}.m-b-32[data-v-48606ff3]{margin-bottom:%?32?%}.p-l-8[data-v-48606ff3]{padding-left:%?8?%}.p-l-16[data-v-48606ff3]{padding-left:%?16?%}.p-b-24[data-v-48606ff3]{padding-bottom:%?24?%}.p-b-32[data-v-48606ff3]{padding-bottom:%?32?%}.p-b-48[data-v-48606ff3]{padding-bottom:%?48?%}.text-ellipsis[data-v-48606ff3]{width:0;overflow:hidden;\r\n  /*超出部分隐藏*/white-space:nowrap;\r\n  /*不换行*/text-overflow:ellipsis\r\n  /*超出部分文字以...显示*/}.container[data-v-48606ff3]{margin:0 %?16?%;background:#fff;-webkit-box-shadow:0 %?4?% %?16?% 0 rgba(14,23,37,.08);box-shadow:0 %?4?% %?16?% 0 rgba(14,23,37,.08);-webkit-border-radius:%?24?%;border-radius:%?24?%;padding:%?15?% %?40?%;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.ef-btn[data-v-48606ff3]{width:%?200?%;height:%?60?%!important;-webkit-box-shadow:0 %?4?% %?16?% 0 rgba(14,23,37,.08);box-shadow:0 %?4?% %?16?% 0 rgba(14,23,37,.08);-webkit-border-radius:%?30?%;border-radius:%?30?%;margin-top:%?50?%;background-color:#05b2cc!important;font-size:%?24?%!important}.bg-orange[data-v-48606ff3]{background-color:#f7b500}.bg-blue[data-v-48606ff3]{background-color:#05b2cc}.bg-green[data-v-48606ff3]{background-color:#00be27}.base-green-text[data-v-48606ff3]{color:#05b2cc}.gray-text[data-v-48606ff3]{color:#97a4ae}.green-text[data-v-48606ff3]{color:#05b2cc}.red-text[data-v-48606ff3]{color:red}.orange-text[data-v-48606ff3]{color:orange}.border-b-gray[data-v-48606ff3]{padding-bottom:%?16?%;border-bottom:1px solid #dde4f2}.title-icon[data-v-48606ff3]{height:%?32?%}.ef-btn-normal[data-v-48606ff3]{width:%?200?%;height:%?60?%!important;margin:%?20?% auto}.btn-primary[data-v-48606ff3]{background-color:#05b2cc!important;color:#fff!important}.btn-normal[data-v-48606ff3]{color:#05b2cc!important}.my-video[data-v-48606ff3]{position:fixed;top:0;left:0;bottom:0;right:0;height:100%;width:100%;background-color:rgba(0,0,0,.5);z-index:3000}.jsfun-record .mask[data-v-48606ff3]{position:fixed;z-index:1000;top:0;right:0;left:0;bottom:0;background:rgba(0,0,0,.6)}.jsfun-record .conbox[data-v-48606ff3]{-webkit-transition:all .3s ease;transition:all .3s ease;-webkit-transform:translateY(100%);transform:translateY(100%);position:fixed;z-index:1000;right:0;left:0;bottom:0;background:#fff}.jsfun-record .conbox.pickerShow[data-v-48606ff3]{-webkit-transform:translateY(0);transform:translateY(0)}.jsfun-record .c666[data-v-48606ff3]{color:#666}.jsfun-record .c999[data-v-48606ff3]{color:#999}.jsfun-record .fz28[data-v-48606ff3]{font-size:%?28?%}.jsfun-record .fz32[data-v-48606ff3]{font-size:%?32?%}.jsfun-record .record[data-v-48606ff3]{text-align:center}.jsfun-record .record .time[data-v-48606ff3]{text-align:center;font-size:%?60?%;color:#000;line-height:%?100?%;margin-top:%?50?%}.jsfun-record .record .domess[data-v-48606ff3]{margin-bottom:%?50?%}.jsfun-record .record .record-box[data-v-48606ff3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.jsfun-record .record uni-canvas[data-v-48606ff3]{margin:%?10?% %?60?%;position:relative;width:%?200?%;height:%?200?%;z-index:10}.jsfun-record .record uni-canvas .recording[data-v-48606ff3]{position:absolute;top:%?20?%;left:%?20?%;width:%?160?%;height:%?160?%;border:1px dashed #05b2cc;-webkit-border-radius:%?100?%;border-radius:%?100?%;background:#05b2cc url('+l+") no-repeat 50% 50%;background-size:50% 50%;z-index:100}.jsfun-record .record .btncom[data-v-48606ff3], .jsfun-record .record .stop[data-v-48606ff3], .jsfun-record .record .paly[data-v-48606ff3], .jsfun-record .record .confirm[data-v-48606ff3]{margin-top:%?50?%;width:%?80?%;height:%?80?%;-webkit-border-radius:%?80?%;border-radius:%?80?%}.jsfun-record .record .stop[data-v-48606ff3]{background:url("+f+") no-repeat;background-size:100% 100%}.jsfun-record .record .paly[data-v-48606ff3]{background:url("+c+") no-repeat;background-size:100% 100%}.jsfun-record .record .confirm[data-v-48606ff3]{background:url("+u+") no-repeat 100% 100%;background-size:100% 100%}.box[data-v-48606ff3]{width:%?80?%;height:%?80?%;border:1px solid #000;-webkit-border-radius:%?16?%;border-radius:%?16?%}.radio-box[data-v-48606ff3]{width:%?280?%;height:%?80?%;border:1px solid #000;-webkit-border-radius:%?26?%;border-radius:%?26?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?16?%;position:relative}.radio-box img[data-v-48606ff3]{height:%?30?%}.del-btn[data-v-48606ff3]{width:%?30?%;position:absolute;right:-4px;top:-4px;z-index:99}body.?%PAGE?%[data-v-48606ff3]{background-color:#dde4f2}",""]),e.exports=t},"4c26":function(e,t,a){"use strict";var i=a("4ea4");a("99af"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("2909")),r=i(a("5f30")),n={props:{id:{type:String,default:""},url:{type:String,default:""}},data:function(){return{page:1,totalPage:0,status:"loadmore",listData:[]}},mounted:function(){this._historyListH()},methods:{reload:function(){this.page=1,this.totalPage=0,this.status="loadmore",this.listData=[],this._historyListH()},_historyListH:function(){var e=this;this.status="loading";var t={size:10,current:this.page,parentId:this.id,type:3};(0,r.default)({url:this.url,method:"get",data:t}).then((function(t){console.log(t,"历史记录"),e.totalPage=t.data.data.pages,e.page=t.data.data.current,e.listData=[].concat((0,o.default)(e.listData),(0,o.default)(t.data.data.records)),e.$emit("over"),e.page>=e.totalPage?e.status="nomore":(e.page=e.page+1,e.status="loadmore")}))},loadMore:function(){"loading"==this.status||"nomore"==this.status||this.page>=this.totalPage+1||this._historyListH()}}};t.default=n},"61b4":function(e,t,a){var i=a("1253");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("4f06").default;o("1140ff79",i,!0,{sourceMap:!1,shadowMode:!1})},"624f":function(e,t,a){"use strict";var i=a("61b4"),o=a.n(i);o.a},"650a":function(e,t,a){e.exports=a.p+"static/img/stop.6d574a81.png"},"6d68":function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i}));var i={uForm:a("586b").default,uFormItem:a("e2f4").default,uRadioGroup:a("9b70").default,uRadio:a("7d14").default,uToast:a("4463").default},o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("u-form",{ref:"uForm",attrs:{model:e.form,"error-type":["toast"]}},[a("u-form-item",{attrs:{label:"消缺单位",prop:"cleOrg","label-width":"150"}},[a("efItem",{attrs:{data:e.formList.dy_YWDW,modelId:e.form.cleOrg,type:"add"===e.type?"select":"label",name:"fullName",id:"id"},on:{"update:modelId":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"cleOrg",t)},"update:model-id":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"cleOrg",t)}},model:{value:e.form.cleOrgName,callback:function(t){e.$set(e.form,"cleOrgName",t)},expression:"form.cleOrgName"}})],1),a("u-form-item",{attrs:{label:"消缺班组",prop:"cleTeam","label-width":"150"}},[a("efItem",{attrs:{data:e.formList.dy_findTeamName,modelId:e.form.cleTeam,type:"add"===e.type?"select":"label",name:"fullName",id:"id"},on:{"update:modelId":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"cleTeam",t)},"update:model-id":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"cleTeam",t)},change:function(t){arguments[0]=t=e.$handleEvent(t),e.classChange.apply(void 0,arguments)}},model:{value:e.form.cleTeamName,callback:function(t){e.$set(e.form,"cleTeamName",t)},expression:"form.cleTeamName"}})],1),a("u-form-item",{attrs:{label:"消缺人",prop:"cleUser","label-width":"150"}},[a("efItem",{attrs:{data:e.dy_teamUserList,modelId:e.form.cleUser,defaultValue:e.form.cleUser,multiple:!0,type:"add"===e.type?"people":"label"},on:{"update:modelId":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"cleUser",t)},"update:model-id":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"cleUser",t)}},model:{value:e.form.cleUserName,callback:function(t){e.$set(e.form,"cleUserName",t)},expression:"form.cleUserName"}})],1),a("u-form-item",{attrs:{label:"消缺时间",prop:"cleDate","label-width":"150"}},[a("efItem",{attrs:{endTime:e.$store.state.nowDate,type:"add"===e.type?"time":"label"},model:{value:e.form.cleDate,callback:function(t){e.$set(e.form,"cleDate",t)},expression:"form.cleDate"}})],1),a("u-form-item",{attrs:{label:"工作负责人",prop:"workLeader","label-width":"150"}},[a("efItem",{attrs:{data:e.dy_teamUserList,modelId:e.form.workLeader,defaultValue:e.form.workLeader,type:"add"===e.type?"people":"label"},on:{"update:modelId":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"workLeader",t)},"update:model-id":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"workLeader",t)}},model:{value:e.form.workLeaderName,callback:function(t){e.$set(e.form,"workLeaderName",t)},expression:"form.workLeaderName"}})],1),a("u-form-item",{attrs:{label:"是否延期",prop:"isLay","label-width":"150"}},[a("v-uni-view",{staticClass:"flex1 flex-end"},["add"===e.type?[a("u-radio-group",{attrs:{"active-color":"#05b2cc"},model:{value:e.form.isLay,callback:function(t){e.$set(e.form,"isLay",t)},expression:"form.isLay"}},[a("u-radio",{attrs:{shape:"circle",name:2}},[e._v("是")]),a("u-radio",{attrs:{shape:"circle",name:1}},[e._v("否")])],1)]:[a("v-uni-text",{staticStyle:{"font-size":"24rpx"}},[e._v(e._s((2==e.form.isLay?"是":1==e.form.isLay&&"否")||""))])]],2)],1),2==e.form.isLay?[a("u-form-item",{attrs:{label:"延期说明",prop:"layDesc","label-width":"150"}},[a("efItem",{attrs:{title:"延期说明",isRightIcon:!1,type:"add"===e.type?"textarea":"label",placeholder:"请输入"},model:{value:e.form.layDesc,callback:function(t){e.$set(e.form,"layDesc",t)},expression:"form.layDesc"}})],1)]:e._e(),a("u-form-item",{attrs:{label:"处理结果",prop:"cleDesc","label-width":"150"}},[a("efItem",{attrs:{title:"处理结果",isRightIcon:!1,type:"add"===e.type?"textarea":"label",placeholder:"请输入"},model:{value:e.form.cleDesc,callback:function(t){e.$set(e.form,"cleDesc",t)},expression:"form.cleDesc"}})],1),a("u-form-item",{attrs:{label:"遗留问题",prop:"cleContent","label-width":"150"}},[a("efItem",{attrs:{title:"遗留问题",isRightIcon:!1,type:"add"===e.type?"textarea":"label",placeholder:"请输入"},model:{value:e.form.cleContent,callback:function(t){e.$set(e.form,"cleContent",t)},expression:"form.cleContent"}})],1),a("u-form-item",{attrs:{prop:"defClePicVOList",label:"拍照","label-width":"150","label-position":"top"}},[a("chooseImage",{ref:"chooseImage",attrs:{images:e.form.defClePicVOList,type:e.type}})],1),a("u-form-item",{attrs:{prop:"defCleVoiVOList",label:"录音","label-width":"150","label-position":"top"}},[a("chooseAudio",{ref:"chooseAudio",attrs:{audioList:e.form.defCleVoiVOList,type:e.type}})],1),a("u-form-item",{attrs:{prop:"defCleVidVOList",label:"视频","label-width":"150","label-position":"top"}},[a("chooseVideo",{ref:"chooseVideo",attrs:{videoList:e.form.defCleVidVOList,type:e.type}})],1)],2),a("u-toast",{ref:"uToast"})],1)},r=[]},"83b5":function(e,t,a){"use strict";a.r(t);var i=a("f012"),o=a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,(function(){return i[e]}))}(r);t["default"]=o.a},8674:function(e,t,a){"use strict";a.r(t);var i=a("a391"),o=a("87a2");for(var r in o)"default"!==r&&function(e){a.d(t,e,(function(){return o[e]}))}(r);a("b71f");var n,d=a("f0c5"),s=Object(d["a"])(o["default"],i["b"],i["c"],!1,null,"267f2fbb",null,!1,i["a"],n);t["default"]=s.exports},"87a2":function(e,t,a){"use strict";a.r(t);var i=a("be82"),o=a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,(function(){return i[e]}))}(r);t["default"]=o.a},"91a3":function(e,t,a){"use strict";a.r(t);var i=a("4c26"),o=a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,(function(){return i[e]}))}(r);t["default"]=o.a},9669:function(e,t,a){var i=a("ee93");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("4f06").default;o("5d8added",i,!0,{sourceMap:!1,shadowMode:!1})},"9e0c":function(e,t,a){"use strict";a("d3b7"),Object.defineProperty(t,"__esModule",{value:!0}),t.dictMixins=void 0;var i=a("2e12"),o=a("a78e"),r={data:function(){return{dy_teamUserList:[],dy_invtwrList:[]}},methods:{selectTeamUserList:function(e){var t=this;(0,i.selectTeamUserList)({deptId:e||this.form.teamId}).then((function(e){var a=e.data;t.dy_teamUserList=a.data.records||[]}))},getInvtwrList:function(){var e=this;return new Promise((function(t,a){(0,o.towersPMS)({line:e.form.lineId||""}).then((function(a){var i=a.data;console.log(i,"杆塔data===="),e.dy_invtwrList=i.data.records||[],t(i.data.records)})).catch((function(){a()}))}))}}};t.dictMixins=r},a32c:function(e,t,a){var i=a("00e0");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("4f06").default;o("a7b805f2",i,!0,{sourceMap:!1,shadowMode:!1})},a391:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i}));var i={customNavbar:a("384b").default,uCollapse:a("206a").default,uCollapseItem:a("6dab").default,uButton:a("147a").default},o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("custom-navbar",{attrs:{title:["0","1"].includes(e.status)?"编辑缺陷":"缺陷详情",iconLeft:!0}}),a("v-uni-view",{staticClass:"container"},[a("u-collapse",{attrs:{arrow:!0,accordion:!0}},[a("u-collapse-item",{ref:"collapseDefectForm",attrs:{open:!0,title:"缺陷详情"}},[a("v-uni-view",{staticClass:"collapse-item"},[a("DefectForm",{ref:"DefectForm",attrs:{id:e.id,type:["0","1"].includes(e.status)?"edit":"details",details:e.details},on:{over:function(t){arguments[0]=t=e.$handleEvent(t),e.initCollapse("collapseDefectForm")}}})],1)],1)],1)],1),["0","1"].includes(e.status)?a("u-button",{directives:[{name:"permission",rawName:"v-permission",value:["user","teamLeader","zhuanze"],expression:"['user','teamLeader','zhuanze']"}],staticClass:"btn btn-plain",attrs:{shape:"circle",ripple:!0,plain:!0,loading:e.saveLoading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.save(1)}}},[e._v("保存")]):e._e(),["0","1"].includes(e.status)?a("u-button",{directives:[{name:"permission",rawName:"v-permission",value:["user","teamLeader","zhuanze"],expression:"['user','teamLeader','zhuanze']"}],staticClass:"btn custom-style",attrs:{type:"primary",shape:"circle",ripple:!0,loading:e.submitLoading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.save(2)}}},[e._v("提交")]):e._e(),2==e.status?a("u-button",{directives:[{name:"permission",rawName:"v-permission",value:"teamLeader",expression:"'teamLeader'"}],staticClass:"btn custom-style",attrs:{type:"primary",shape:"circle",ripple:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toExamine.apply(void 0,arguments)}}},[e._v("审核")]):e._e(),4==e.status?a("u-button",{directives:[{name:"permission",rawName:"v-permission",value:["user","teamLeader","zhuanze"],expression:"['user','teamLeader','zhuanze']"}],staticClass:"btn custom-style",attrs:{type:"primary",shape:"circle",ripple:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toHandle.apply(void 0,arguments)}}},[e._v("处理")]):e._e(),3==e.status?[a("v-uni-view",{staticClass:"container",staticStyle:{"margin-top":"30rpx"}},[a("u-collapse",{ref:"collapseHandleForm",attrs:{"event-type":"close",arrow:!0,accordion:!0}},[a("u-collapse-item",{attrs:{title:"消缺信息"}},[a("v-uni-view",{staticClass:"collapse-item"},[a("HandleForm",{ref:"HandleForm",attrs:{id:e.id,needGet:!1,details:e.details,type:"details"},on:{over:function(t){arguments[0]=t=e.$handleEvent(t),e.initCollapse("collapseHandleForm")}}})],1)],1)],1)],1)]:e._e(),a("v-uni-view",{staticClass:"container",staticStyle:{"margin-top":"30rpx"}},[a("u-collapse",{ref:"collapseHistory",attrs:{"event-type":"close",arrow:!0,accordion:!0}},[a("u-collapse-item",{attrs:{title:"流程流转记录"}},[a("v-uni-view",{staticClass:"collapse-item"},[a("History",{ref:"History",attrs:{id:e.id,url:"/blade-sd/history/listH"},on:{over:function(t){arguments[0]=t=e.$handleEvent(t),e.initCollapse("collapseHistory")}}})],1)],1)],1)],1)],2)},r=[]},a3d0:function(e,t,a){"use strict";a.r(t);var i=a("6d68"),o=a("83b5");for(var r in o)"default"!==r&&function(e){a.d(t,e,(function(){return o[e]}))}(r);a("cd59");var n,d=a("f0c5"),s=Object(d["a"])(o["default"],i["b"],i["c"],!1,null,"fc154386",null,!1,i["a"],n);t["default"]=s.exports},a78e:function(e,t,a){"use strict";var i=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.twrsetSubmit=t.invtwrDetail=t.towersPMS=t.invtwrList=void 0;var o=i(a("5530")),r=i(a("5f30")),n=function(e){return(0,r.default)({url:"/blade-sd/invtwr/listAllByLineID",method:"GET",data:e})};t.invtwrList=n;var d=function(e){return(0,r.default)({url:"/blade-sd/source/towers",method:"GET",data:(0,o.default)({current:1,size:-1},e)})};t.towersPMS=d;var s=function(e){return(0,r.default)({url:"/blade-sd/invtwr/detail",method:"get",data:e})};t.invtwrDetail=s;var l=function(e){return(0,r.default)({url:"/blade-sd/twrset/submit",method:"post",data:e})};t.twrsetSubmit=l},a91a:function(e,t,a){"use strict";var i=a("9669"),o=a.n(i);o.a},aa2a:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i}));var i={uForm:a("586b").default,uFormItem:a("e2f4").default,uButton:a("147a").default,uInput:a("87aa").default,uToast:a("4463").default},o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("u-form",{ref:"uForm",attrs:{model:e.form,"error-type":["toast"]}},[a("u-form-item",{attrs:{label:"线路","label-width":"150",prop:"lineName"}},[a("efItem",{attrs:{data:e.dy_XSXL,modelId:e.form.lineId,type:"add"===e.type||"edit"===e.type?"lines":"label"},on:{"update:modelId":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"lineId",t)},"update:model-id":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"lineId",t)},input:function(t){arguments[0]=t=e.$handleEvent(t),e.lineChange.apply(void 0,arguments)}},model:{value:e.form.lineName,callback:function(t){e.$set(e.form,"lineName",t)},expression:"form.lineName"}})],1),a("u-form-item",{attrs:{label:"杆塔","label-width":"150","label-position":"top",prop:"twrCode"}},[a("v-uni-view",{staticClass:"flex1"},[a("efItem",{attrs:{data:e.dy_invtwrList,require:e.form.lineName,errMessage:"请先选择线路",modelId:e.form.twrId,type:"add"===e.type||"edit"===e.type?"towers":"label",position:!0,name:"twrCode",id:"id"},on:{"update:modelId":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"twrId",t)},"update:model-id":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"twrId",t)},change:function(t){arguments[0]=t=e.$handleEvent(t),function(t){return e.towerChange(t)}.apply(void 0,arguments)}},model:{value:e.form.twrCode,callback:function(t){e.$set(e.form,"twrCode",t)},expression:"form.twrCode"}})],1)],1),a("u-form-item",{attrs:{label:"电压等级","label-width":"150",prop:"voltage"}},[a("efItem",{attrs:{isRightIcon:!1,placeholder:""},model:{value:e.form.voltage,callback:function(t){e.$set(e.form,"voltage",t)},expression:"form.voltage"}})],1),a("u-form-item",{attrs:{label:"杆塔型号","label-width":"150",prop:"modCode"}},[a("efItem",{attrs:{isRightIcon:!1,placeholder:""},model:{value:e.form.modCode,callback:function(t){e.$set(e.form,"modCode",t)},expression:"form.modCode"}})],1),a("u-form-item",{attrs:{label:"部件","label-width":"150",prop:"defType"}},[a("efItem",{attrs:{data:e.formList.dy_defType,type:"add"===e.type||"edit"===e.type?"select":"label",name:"text",id:"id"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),function(t){return e.onChange("defType",t)}.apply(void 0,arguments)}},model:{value:e.form.defType,callback:function(t){e.$set(e.form,"defType",t)},expression:"form.defType"}})],1),e.form.defType&&!["基础","附属设施","接地装置","杆塔"].includes(e.form.defType)?a("u-form-item",{attrs:{prop:"location",label:"大小号侧","label-width":"150"}},[a("efItem",{attrs:{data:e.formList.dy_location,modelId:e.form.location,type:"add"===e.type||"edit"===e.type?"select":"label",name:"dictValue",id:"dictKey"},on:{"update:modelId":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"location",t)},"update:model-id":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"location",t)}},model:{value:e.form.locationName,callback:function(t){e.$set(e.form,"locationName",t)},expression:"form.locationName"}})],1):e._e(),e.form.defType&&!["基础","附属设施","接地装置","杆塔"].includes(e.form.defType)?a("u-form-item",{attrs:{prop:"phase",label:"相别","label-width":"150"}},[a("efItem",{attrs:{data:e.formList.dy_phase,modelId:e.form.phase,type:"add"===e.type||"edit"===e.type?"select":"label",name:"dictValue",id:"dictKey"},on:{"update:modelId":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"phase",t)},"update:model-id":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"phase",t)}},model:{value:e.form.phaseName,callback:function(t){e.$set(e.form,"phaseName",t)},expression:"form.phaseName"}})],1):e._e(),a("u-form-item",{attrs:{prop:"partsKinds",label:"部件种类","label-width":"150"}},[a("efItem",{attrs:{data:e.formList.dy_partsKinds,require:e.form.defType,errMessage:"请先选择部件",type:"add"===e.type||"edit"===e.type?"select":"label",name:"text",id:"id"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),function(t){return e.onChange("partsKinds",t)}.apply(void 0,arguments)}},model:{value:e.form.partsKinds,callback:function(t){e.$set(e.form,"partsKinds",t)},expression:"form.partsKinds"}})],1),a("u-form-item",{attrs:{prop:"defPos",label:"部位","label-width":"150"}},[a("efItem",{attrs:{data:e.formList.dy_defPos,require:e.form.partsKinds,errMessage:"请先选择部件种类",type:"add"===e.type||"edit"===e.type?"select":"label",name:"text",id:"id"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),function(t){return e.onChange("defPos",t)}.apply(void 0,arguments)}},model:{value:e.form.defPos,callback:function(t){e.$set(e.form,"defPos",t)},expression:"form.defPos"}})],1),a("u-form-item",{attrs:{prop:"defDesc",label:"缺陷描述","label-width":"150"}},[a("efItem",{attrs:{data:e.formList.dy_defDesc,require:e.form.defPos,errMessage:"请先选择部位",type:"add"===e.type||"edit"===e.type?"select":"label",name:"text",id:"id"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),function(t){return e.onChange("defDesc",t)}.apply(void 0,arguments)}},model:{value:e.form.defDesc,callback:function(t){e.$set(e.form,"defDesc",t)},expression:"form.defDesc"}})],1),a("u-form-item",{attrs:{prop:"sortBasis",label:"分类依据","label-width":"150"}},[a("efItem",{attrs:{data:e.formList.dy_sortBasis,require:e.form.defDesc,errMessage:"请先选择缺陷描述",type:"add"===e.type||"edit"===e.type?"select":"label",name:"text",id:"id"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),function(t){return e.onChange("sortBasis",t)}.apply(void 0,arguments)}},model:{value:e.form.sortBasis,callback:function(t){e.$set(e.form,"sortBasis",t)},expression:"form.sortBasis"}})],1),a("u-form-item",{attrs:{prop:"defNature",label:"缺陷性质","label-width":"150"}},[a("efItem",{attrs:{data:e.formList.dy_defNature,require:e.form.sortBasis,errMessage:"请先选择分类依据",type:"add"===e.type||"edit"===e.type?"select":"label",name:"text",id:"id"},model:{value:e.form.defNature,callback:function(t){e.$set(e.form,"defNature",t)},expression:"form.defNature"}})],1),a("u-form-item",{attrs:{prop:"findWay",label:"发现方式","label-width":"150"}},[a("efItem",{attrs:{data:e.formList.dy_findWay,modelId:e.form.findWay,type:"add"===e.type||"edit"===e.type?"select":"label",name:"dictValue",id:"dictKey"},on:{"update:modelId":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"findWay",t)},"update:model-id":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"findWay",t)}},model:{value:e.form.findWayName,callback:function(t){e.$set(e.form,"findWayName",t)},expression:"form.findWayName"}})],1),a("u-form-item",{attrs:{prop:"findDate",label:"发现日期","label-width":"150"}},[a("efItem",{attrs:{endTime:e.$store.state.nowDate,type:"add"===e.type||"edit"===e.type?"time":"label"},model:{value:e.form.findDate,callback:function(t){e.$set(e.form,"findDate",t)},expression:"form.findDate"}})],1),a("u-form-item",{attrs:{prop:"findTeamName",label:"发现班组","label-width":"150"}},[a("efItem",{attrs:{data:e.formList.dy_findTeamName,modelId:e.form.findTeamId,type:"add"===e.type||"edit"===e.type?"select":"label",name:"fullName",id:"id"},on:{"update:modelId":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"findTeamId",t)},"update:model-id":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"findTeamId",t)},change:function(t){arguments[0]=t=e.$handleEvent(t),e.classChange.apply(void 0,arguments)}},model:{value:e.form.findTeamName,callback:function(t){e.$set(e.form,"findTeamName",t)},expression:"form.findTeamName"}})],1),a("u-form-item",{attrs:{label:"发现单位","label-width":"150"}},[a("efItem",{attrs:{data:e.dy_YWDW,modelId:e.form.orgId,type:"add"===e.type||"edit"===e.type?"select":"label",name:"fullName",id:"id"},on:{"update:modelId":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"orgId",t)},"update:model-id":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"orgId",t)}},model:{value:e.form.orgName,callback:function(t){e.$set(e.form,"orgName",t)},expression:"form.orgName"}})],1),a("u-form-item",{attrs:{prop:"findUserName",label:"发现人","label-width":"150"}},[a("efItem",{attrs:{data:e.dy_teamUserList,modelId:e.form.findUserId,multiple:!0,type:"add"===e.type||"edit"===e.type?"people":"label"},on:{"update:modelId":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"findUserId",t)},"update:model-id":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"findUserId",t)}},model:{value:e.form.findUserName,callback:function(t){e.$set(e.form,"findUserName",t)},expression:"form.findUserName"}})],1),a("u-form-item",{attrs:{prop:"plCleorg",label:"计划消缺单位","label-width":"180"}},[a("efItem",{attrs:{data:e.formList.dy_plCleorg,modelId:e.form.plCleorg,type:"add"===e.type||"edit"===e.type?"select":"label",name:"dictValue",id:"dictKey"},on:{"update:modelId":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"plCleorg",t)},"update:model-id":function(t){arguments[0]=t=e.$handleEvent(t),e.$set(e.form,"plCleorg",t)}},model:{value:e.form.jhxqdw,callback:function(t){e.$set(e.form,"jhxqdw",t)},expression:"form.jhxqdw"}})],1),a("u-form-item",{attrs:{prop:"clePro",label:"处理意见","label-width":"150"}},[a("efItem",{attrs:{data:e.dy_QXCLYJ,name:"dictValue",id:"dictKey",title:"处理意见",canWrite:"add"===e.type||"edit"===e.type,type:"add"===e.type||"edit"===e.type?"select":"label",placeholder:"请输入或选择"},model:{value:e.form.clePro,callback:function(t){e.$set(e.form,"clePro",t)},expression:"form.clePro"}})],1),a("u-form-item",{attrs:{prop:"defReport",label:"缺陷简报","label-width":"150","label-position":"top"}},[a("v-uni-view",{staticClass:"flex1"},[a("efItem",{attrs:{isRightIcon:!1,placeholder:"",position:!0,isRightLabel:!1},scopedSlots:e._u(["add"===e.type||"edit"===e.type?{key:"right",fn:function(){return[a("v-uni-view",{staticClass:"flex1"},[a("u-button",{staticClass:"custom-style",staticStyle:{float:"right"},attrs:{size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.generateDefReport.apply(void 0,arguments)}}},[e._v("生成")])],1)]},proxy:!0}:null],null,!0)}),"add"===e.type||"edit"===e.type?a("v-uni-view",[a("u-input",{attrs:{disabled:"add"!==e.type&&"edit"!==e.type,clearable:"add"===e.type||"edit"===e.type,border:!0,placeholder:"请输入或生成",type:"textarea"},model:{value:e.form.defReport,callback:function(t){e.$set(e.form,"defReport",t)},expression:"form.defReport"}})],1):e._e(),"details"===e.type?a("v-uni-view",{staticClass:"f-s-24"},[e._v(e._s(e.form.defReport))]):e._e()],1)],1),a("u-form-item",{attrs:{prop:"defPicVOList",label:"图片","label-width":"150","label-position":"top"}},[a("chooseImage",{ref:"chooseImage",attrs:{images:e.form.defPicVOList,type:e.type}})],1),a("u-form-item",{attrs:{prop:"defVoiVOList",label:"音频","label-width":"150","label-position":"top"}},[a("chooseAudio",{ref:"chooseAudio",attrs:{audioList:e.form.defVoiVOList,type:e.type}})],1),a("u-form-item",{attrs:{prop:"defVidVOList",label:"视频","label-width":"150","label-position":"top"}},[a("chooseVideo",{ref:"chooseVideo",attrs:{videoList:e.form.defVidVOList,type:e.type}})],1)],1),"add"===e.type?a("u-button",{directives:[{name:"permission",rawName:"v-permission",value:["user","teamLeader","zhuanze"],expression:"['user','teamLeader','zhuanze']"}],staticClass:"btn custom-style",attrs:{type:"primary",shape:"circle",ripple:!0,loading:e.submitLoading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.save(2)}}},[e._v("提交")]):e._e(),"add"===e.type?a("u-button",{directives:[{name:"permission",rawName:"v-permission",value:["user","teamLeader","zhuanze"],expression:"['user','teamLeader','zhuanze']"}],staticClass:"btn btn-plain",attrs:{shape:"circle",ripple:!0,plain:!0,loading:e.saveLoading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.save(1)}}},[e._v("保存")]):e._e(),a("u-toast",{ref:"uToast"})],1)},r=[]},ab63:function(e,t,a){"use strict";a.r(t);var i=a("3f8b"),o=a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,(function(){return i[e]}))}(r);t["default"]=o.a},ae8d:function(e,t,a){"use strict";a.r(t);var i=a("aa2a"),o=a("eff1");for(var r in o)"default"!==r&&function(e){a.d(t,e,(function(){return o[e]}))}(r);a("a91a");var n,d=a("f0c5"),s=Object(d["a"])(o["default"],i["b"],i["c"],!1,null,"1b3f9fe8",null,!1,i["a"],n);t["default"]=s.exports},b71f:function(e,t,a){"use strict";var i=a("0fd6"),o=a.n(i);o.a},b760:function(e,t,a){"use strict";a.r(t);var i=a("e53c"),o=a("ab63");for(var r in o)"default"!==r&&function(e){a.d(t,e,(function(){return o[e]}))}(r);a("335c");var n,d=a("f0c5"),s=Object(d["a"])(o["default"],i["b"],i["c"],!1,null,"48606ff3",null,!1,i["a"],n);t["default"]=s.exports},be82:function(e,t,a){"use strict";var i=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("ae8d")),r=i(a("e6a6")),n=i(a("a3d0")),d=a("2e3f"),s={components:{DefectForm:o.default,History:r.default,HandleForm:n.default},data:function(){return{submitLoading:!1,saveLoading:!1,id:"",details:{},state:null}},onLoad:function(e){this.id=e.id,this.state=e.state},onShow:function(){console.log("onshow了"),this._defFindByDef()},computed:{status:function(){return this.details.defState?this.details.defState:this.state}},methods:{toExamine:function(){uni.navigateTo({url:"pages/task/defect/defectExamine?id="+this.id})},toHandle:function(){uni.navigateTo({url:"pages/task/defect/defectHandle?id="+this.id})},_defFindByDef:function(){var e=this;(0,d.defFindByDef)(this.id).then((function(t){e.details=t.data.data,console.log(e.details,"onshow详情")}))},save:function(e){var t=this;this.$u.toast("".concat(2==e?"提交":"保存","中..."));var a=2==e?"submitLoading":"saveLoading";console.log(a,"loadStr"),this[a]=!0,this.$refs.DefectForm.save(e).then((function(){t[a]=!1}))},initCollapse:function(e){this.$refs[e].init()}},onReachBottom:function(){this.$refs.History.loadMore()}};t.default=s},cd59:function(e,t,a){"use strict";var i=a("a32c"),o=a.n(i);o.a},e53c:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i}));var i={uImage:a("1845").default,uIcon:a("ec6b").default},o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"jsfun-record"},[e._t("default"),null!==e.recorderFile?[i("v-uni-view",{staticClass:"radio-box"},[i("u-image",{staticClass:"del-btn",attrs:{width:"30rpx",height:"30rpx",src:a("cc36")},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.delRecord.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"flex1 flex-start",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.playVoice.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"flex-center"},[i("ef-horn",{attrs:{playing:e.playing}})],1),i("v-uni-view",[e._v(e._s(e.recorder.duration.toFixed(0))+"''")])],1)],1)]:e._e(),null===e.recorderFile?[i("v-uni-view",{staticClass:"box flex-center",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showPicker.apply(void 0,arguments)}}},[i("u-icon",{attrs:{name:"plus",size:"40"}})],1)]:e._e(),e.isShow?i("v-uni-view",{staticClass:"mask",on:{touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.moveHandle.apply(void 0,arguments)},click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.closePicker.apply(void 0,arguments)}}}):e._e(),i("v-uni-view",{staticClass:"conbox record",class:{pickerShow:e.isShow}},[i("v-uni-view",{staticClass:"time"},[e._v(e._s(e.showRecordTime))]),i("v-uni-view",{staticClass:"c999"},[e._v("最短"+e._s(e.minTime)+"秒，最长"+e._s(e.maxTime)+"秒")]),i("v-uni-view",{staticClass:"record-box"},[null!==e.recorderFile&&e.playing?i("span",{staticClass:"btncom",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.stopVoice.apply(void 0,arguments)}}},[i("u-icon",{attrs:{color:"#05B2CC",size:"68",name:"pause-circle"}})],1):e._e(),null===e.recorderFile||e.playing?e._e():i("span",{staticClass:"btncom",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.playVoice.apply(void 0,arguments)}}},[i("u-icon",{attrs:{color:"#05B2CC",size:"68",name:"play-circle"}})],1),i("v-uni-canvas",{staticClass:"canvas",attrs:{"canvas-id":"canvas"},on:{touchstart:function(t){arguments[0]=t=e.$handleEvent(t),e.start.apply(void 0,arguments)},longpress:function(t){arguments[0]=t=e.$handleEvent(t),e.record.apply(void 0,arguments)},touchend:function(t){arguments[0]=t=e.$handleEvent(t),e.end.apply(void 0,arguments)},touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.moveHandle.apply(void 0,arguments)}}},[i("span",{staticClass:"recording"})]),null!==e.recorderFile?i("span",{staticClass:"btncom",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.okClick.apply(void 0,arguments)}}},[i("u-icon",{attrs:{color:"#05B2CC",size:"58",name:"checkbox-mark"}})],1):e._e()],1),i("v-uni-view",{staticClass:"c666 fz32 domess"},[e._v("长按录音")])],1)],2)},r=[]},e6a6:function(e,t,a){"use strict";a.r(t);var i=a("3313"),o=a("91a3");for(var r in o)"default"!==r&&function(e){a.d(t,e,(function(){return o[e]}))}(r);a("624f");var n,d=a("f0c5"),s=Object(d["a"])(o["default"],i["b"],i["c"],!1,null,"ea2202fc",null,!1,i["a"],n);t["default"]=s.exports},edcf:function(e,t,a){"use strict";var i=a("4ea4");a("99af"),a("c740"),a("4160"),a("c975"),a("d81d"),a("a434"),a("d3b7"),a("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var o=i(a("1da1")),r=i(a("5530")),n=a("9e0c"),d=a("2e3f"),s=a("a78e"),l=["defType","partsKinds","defPos","defDesc","sortBasis","defNature"],f={props:{id:{type:String,default:""},type:{type:String,default:"add"},details:{type:Object,default:function(){}},baseData:{type:Object,default:function(){}}},components:{},mixins:[n.dictMixins],data:function(){return{submitLoading:!1,saveLoading:!1,companyName:"国网重庆检修分公司",dy_XSXL:[],dy_QXCLYJ:[],dy_YWDW:[],formList:{dy_defType:[],dy_location:[],dy_phase:[],dy_partsKinds:[],dy_defPos:[],dy_defDesc:[],dy_sortBasis:[],dy_defNature:[],dy_findWay:[],dy_findTeamName:[],dy_plCleorg:[]},form:{insTypeName:"特殊巡视",orgName:"",teamName:"",lineName:"",lineId:"",twrCode:"",modCode:"",voltage:"",defType:"",location:"",phase:"",partsKinds:"",defPos:"",defDesc:"",sortBasis:"",defNature:"",findWay:"",findDate:"",findTeamName:"",findUserName:"",plCleorg:"",clePro:"",defReport:"",defPicVOList:"",defVidVOList:"",defVoiVOList:""},rules:{lineName:[{required:!0,message:"请选择线路"}],twrCode:[{required:!0,message:"请选择杆塔"}],defType:[{required:!0,message:"请选择部件"}],location:[{required:!0,message:"请选择大小号侧"}],phase:[{required:!0,message:"请选择相别"}],partsKinds:[{required:!0,message:"请选择部件种类"}],defPos:[{required:!0,message:"请选择部位"}],defDesc:[{required:!0,message:"请选择缺陷描述"}],sortBasis:[{required:!0,message:"请选择分类依据"}],defNature:[{required:!0,message:"请选择缺陷性质"}],findWay:[{required:!0,message:"请选择发现方式"}],findDate:[{required:!0,message:"请选择发现日期"}],findTeamName:[{required:!0,message:"请选择发现班组"}],findUserName:[{required:!0,message:"请选择发现人"}],plCleorg:[{required:!0,message:"请选择计划消缺单位"}],clePro:[{required:!0,message:"请填写处理意见"}],defReport:[{required:!0,message:"请填写缺陷简报"}]},taskItemList:{equList:[],planItemUserName:[],time:""},dy_risk_level:[]}},created:function(){this.getTypelist(),this._defclaDetail(),this.setBaseData(this.baseData),console.log(this.baseData,"basedata")},mounted:function(){this.$refs.uForm.setRules(this.rules)},watch:{details:{handler:function(e){console.log(e,"缺陷详情defe"),l.forEach((function(t){e[t]=e[t]?e[t]:"空"})),this.form=e,"add"!==this.type&&"edit"!==this.type||(this.getInvtwrList(),this.onChange("defType",!1),this.onChange("partsKinds",!1),this.onChange("defPos",!1),this.onChange("defDesc",!1),this.onChange("sortBasis",!1))},deep:!0},form:{handler:function(){this.$emit("over")},deep:!0}},methods:{setBaseData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.line&&e.lineName&&(this.form.lineId=e.line,this.form.lineName=e.lineName,this.lineChange(),(e.twrId||e.id)&&(e.twrcode||e.twrCode||e.name)&&(this.form.twrId=e.twrId||e.id,this.form.twrCode=e.twrcode||e.twrCode||e.name,this.towerChange()))},getTypelist:function(){var e=this;"details"!=this.type&&(this.$store.dispatch("getList","LOCATION").then((function(t){console.log(t,"大小号侧"),e.formList.dy_location=t})),this.$store.dispatch("getList","phase").then((function(t){console.log(t,"相别"),e.formList.dy_phase=t})),this.$store.dispatch("getList","risk_level").then((function(t){console.log(t,"风险等级"),e.dy_risk_level=t.map((function(e){return(0,r.default)((0,r.default)({},e),{},{text:e.dictValue})}))})),this.$store.dispatch("getList","YSBZ").then((function(t){console.log(t,"班组"),e.formList.dy_findTeamName=t||[];var a=t||[];"add"===e.type&&1==a.length&&(e.form.findTeamId=a[0].id,e.form.findTeamName=a[0].fullName),e.selectTeamUserList(e.form.findTeamId)})),this.$store.dispatch("getList","YWDW").then((function(t){console.log(t,"运维单位"),e.dy_YWDW=t||[],"add"===e.type&&1===t.length&&(e.form.orgName=t[0].fullName,e.form.orgId=t[0].id)})),this.$store.dispatch("getList","find_way").then((function(t){console.log(t,"发现方式"),e.formList.dy_findWay=t||[]})),this.$store.dispatch("getList","JHXQDW").then((function(t){console.log(t,"计划消缺单位"),e.formList.dy_plCleorg=t||[]})),this.$store.dispatch("getList","QXCLYJ").then((function(t){console.log(t,"缺陷处理意见"),e.dy_QXCLYJ=t||[]})))},_defclaDetail:function(){var e=this;(0,d.defclaDetail)().then((function(t){console.log(t,"部件"),e.formList.dy_defType=t.data.data.map((function(e){var t={text:e,id:e};return t}))}))},towerClick:function(e){var t=this.taskItemList.equList.findIndex((function(t){return t.id===e.id}));this.taskItemList.equList.splice(t,1)},changeTime:function(e){this.taskItemList.time=e[0]+"-"+e[1],this.taskItemList.startPlanDate=this.$u.timeFormat(new Date(e[0]),"yyyy-mm-dd hh:MM:ss"),this.taskItemList.finishPlanDate=this.$u.timeFormat(new Date(e[1]),"yyyy-mm-dd hh:MM:ss")},onChange:function(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.$nextTick((function(){var i={},o=l.indexOf(e);o>-1&&l.forEach((function(e,r){r<=o?i[e]=t.form[e]:a&&(t.form[e]="")})),console.log(i,"params"),(0,d.defclaDetail)(i).then((function(e){var a=e.data.data;o<l.length&&(1!==a.length||a[0]||(a=["空"]),t.formList["dy_"+l[o+1]]=a.map((function(e){var t={text:e,id:e};return t})))}))}))},save:function(e){var t=this;return new Promise((function(a){console.log(t.form,"form"),t.$refs.uForm.validate(function(){var i=(0,o.default)(regeneratorRuntime.mark((function i(o){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(r=2==e?"submitLoading":"saveLoading",!o){i.next=26;break}return t[r]=!0,i.prev=3,i.next=6,t.$refs.chooseImage.getIds();case 6:return t.form.defPic=i.sent,i.next=9,t.$refs.chooseAudio.getIds();case 9:return t.form.defVoi=i.sent,i.next=12,t.$refs.chooseVideo.getIds();case 12:t.form.defVid=i.sent,i.next=20;break;case 15:return i.prev=15,i.t0=i["catch"](3),console.log("传资源失败"),t[r]=!1,i.abrupt("return");case 20:t.form.defSource="2",t.form.defState=e,(0,d.defSaveOrUpdate)(t.form).then((function(){t.$refs.uToast.show({title:"".concat(1===e?"保存":2===e&&"添加","成功！")}),t[r]=!1,setTimeout((function(){t.$goBack()}),500)})).catch((function(){t[r]=!1})),a(),i.next=28;break;case 26:t[r]=!1,console.log("验证失败");case 28:case"end":return i.stop()}}),i,null,[[3,15]])})));return function(e){return i.apply(this,arguments)}}())}))},lineChange:function(){this.form.twrCode="",this.form.twrId="",this.form.voltage="",this.form.modCode="",this.getInvtwrList()},towerChange:function(e){var t=this;console.log(e,"e");var a={line:this.form.lineId,psrId:this.form.twrId};console.log(a,"杆塔data"),(0,s.towersPMS)(a).then((function(e){console.log(e,"杆塔详情");var a=1==e.data.data.records.length?e.data.data.records[0]:[];t.form.modCode=a.modCode,t.form.voltage=a.voltageLevelName}))},classChange:function(e){console.log(e,"班组"),this.selectTeamUserList(e.id)},validateSome:function(e){var t=this;return new Promise((function(a,i){try{e.forEach((function(e){if(t.form.hasOwnProperty(e)&&!t.form[e])throw t.$refs.uToast.show({title:t.rules[e][0].message}),Error()})),a()}catch(o){return void i()}}))},generateDefReport:function(){var e=this,t=["lineName","twrCode","defType","partsKinds","defPos","defDesc"];this.validateSome(t).then((function(){var t=e.form,a=t.lineName,i=t.twrCode,o=t.defType,r=t.partsKinds,n=t.defPos,d=t.defDesc,s=t.voltage,l="".concat(s||"").concat(a).concat(i,"杆塔").concat(o).concat(r).concat(n).concat(d);console.log(l,"data简报"),e.form.defReport=l}))}}};t.default=f},ee93:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/*每个页面公共css */uni-page-body[data-v-1b3f9fe8]{background-color:#dde4f2;font-family:PingFangSC-Medium,PingFang SC}.flex-center[data-v-1b3f9fe8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flex-around[data-v-1b3f9fe8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flex-between[data-v-1b3f9fe8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flex-start[data-v-1b3f9fe8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flex-end[data-v-1b3f9fe8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flex-column[data-v-1b3f9fe8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.flex-wrap[data-v-1b3f9fe8]{-webkit-flex-wrap:wrap;flex-wrap:wrap}.flex[data-v-1b3f9fe8]{display:-webkit-box;display:-webkit-flex;display:flex}.flex1[data-v-1b3f9fe8]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.align-center[data-v-1b3f9fe8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.text-center[data-v-1b3f9fe8]{text-align:center}.m-8[data-v-1b3f9fe8]{margin:%?8?%}.m-16[data-v-1b3f9fe8]{margin:%?16?%}.p-8[data-v-1b3f9fe8]{padding:%?8?%}.p-16[data-v-1b3f9fe8]{padding:%?16?%}.m-t-16[data-v-1b3f9fe8]{margin-top:%?16?%}.m-t-8[data-v-1b3f9fe8]{margin-top:%?8?%}.m-t-24[data-v-1b3f9fe8]{margin-top:%?24?%}.m-t-32[data-v-1b3f9fe8]{margin-top:%?32?%}.m-t-40[data-v-1b3f9fe8]{margin-top:%?40?%}.m-l-16[data-v-1b3f9fe8]{margin-left:%?16?%}.m-l-24[data-v-1b3f9fe8]{margin-left:%?24?%}.m-l-32[data-v-1b3f9fe8]{margin-left:%?32?%}.m-l-40[data-v-1b3f9fe8]{margin-left:%?40?%}.m-l-8[data-v-1b3f9fe8]{margin-left:%?8?%}.m-r-8[data-v-1b3f9fe8]{margin-right:%?8?%}.m-r-16[data-v-1b3f9fe8]{margin-right:%?16?%}.m-r-24[data-v-1b3f9fe8]{margin-right:%?24?%}.m-b-16[data-v-1b3f9fe8]{margin-bottom:%?16?%}.m-b-32[data-v-1b3f9fe8]{margin-bottom:%?32?%}.p-l-8[data-v-1b3f9fe8]{padding-left:%?8?%}.p-l-16[data-v-1b3f9fe8]{padding-left:%?16?%}.p-b-24[data-v-1b3f9fe8]{padding-bottom:%?24?%}.p-b-32[data-v-1b3f9fe8]{padding-bottom:%?32?%}.p-b-48[data-v-1b3f9fe8]{padding-bottom:%?48?%}.text-ellipsis[data-v-1b3f9fe8]{width:0;overflow:hidden;\r\n  /*超出部分隐藏*/white-space:nowrap;\r\n  /*不换行*/text-overflow:ellipsis\r\n  /*超出部分文字以...显示*/}.container[data-v-1b3f9fe8]{margin:0 %?16?%;background:#fff;-webkit-box-shadow:0 %?4?% %?16?% 0 rgba(14,23,37,.08);box-shadow:0 %?4?% %?16?% 0 rgba(14,23,37,.08);-webkit-border-radius:%?24?%;border-radius:%?24?%;padding:%?15?% %?40?%;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.ef-btn[data-v-1b3f9fe8]{width:%?200?%;height:%?60?%!important;-webkit-box-shadow:0 %?4?% %?16?% 0 rgba(14,23,37,.08);box-shadow:0 %?4?% %?16?% 0 rgba(14,23,37,.08);-webkit-border-radius:%?30?%;border-radius:%?30?%;margin-top:%?50?%;background-color:#05b2cc!important;font-size:%?24?%!important}.bg-orange[data-v-1b3f9fe8]{background-color:#f7b500}.bg-blue[data-v-1b3f9fe8]{background-color:#05b2cc}.bg-green[data-v-1b3f9fe8]{background-color:#00be27}.base-green-text[data-v-1b3f9fe8]{color:#05b2cc}.gray-text[data-v-1b3f9fe8]{color:#97a4ae}.green-text[data-v-1b3f9fe8]{color:#05b2cc}.red-text[data-v-1b3f9fe8]{color:red}.orange-text[data-v-1b3f9fe8]{color:orange}.border-b-gray[data-v-1b3f9fe8]{padding-bottom:%?16?%;border-bottom:1px solid #dde4f2}.title-icon[data-v-1b3f9fe8]{height:%?32?%}.ef-btn-normal[data-v-1b3f9fe8]{width:%?200?%;height:%?60?%!important;margin:%?20?% auto}.btn-primary[data-v-1b3f9fe8]{background-color:#05b2cc!important;color:#fff!important}.btn-normal[data-v-1b3f9fe8]{color:#05b2cc!important}.my-video[data-v-1b3f9fe8]{position:fixed;top:0;left:0;bottom:0;right:0;height:100%;width:100%;background-color:rgba(0,0,0,.5);z-index:3000}.container[data-v-1b3f9fe8]{margin-top:%?20?%}.slot-content[data-v-1b3f9fe8]{padding:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;margin:%?20?% 0}.slot-content[data-v-1b3f9fe8] .u-input{border:1px solid #999;-webkit-border-radius:%?10?%;border-radius:%?10?%}.slot-content[data-v-1b3f9fe8] .u-input .uni-textarea-textarea{padding:0 %?20?%;-webkit-box-sizing:border-box;box-sizing:border-box}.slot-content[data-v-1b3f9fe8] .u-input .uni-textarea-placeholder{padding:0 %?20?%;-webkit-box-sizing:border-box;box-sizing:border-box}.tower[data-v-1b3f9fe8]{-webkit-flex-wrap:wrap;flex-wrap:wrap}.tower .tower-list[data-v-1b3f9fe8]{width:20%;position:relative;padding-top:20px;padding-left:10px;margin-top:10px;color:#333}.tower .tower-list .uni-icons[data-v-1b3f9fe8]{position:absolute;right:0;top:0}.tower .clear[data-v-1b3f9fe8]{width:100%;color:red;margin-top:10px}.custom-style[data-v-1b3f9fe8]{background-color:#05b2cc!important;color:#fff}.f-s-24[data-v-1b3f9fe8]{font-size:%?24?%}.btn[data-v-1b3f9fe8]{width:%?200?%;height:%?60?%!important;margin-top:%?24?%}.btn-plain[data-v-1b3f9fe8]{color:#05b2cc}body.?%PAGE?%[data-v-1b3f9fe8]{background-color:#dde4f2}',""]),e.exports=t},eff1:function(e,t,a){"use strict";a.r(t);var i=a("edcf"),o=a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,(function(){return i[e]}))}(r);t["default"]=o.a},f012:function(e,t,a){"use strict";var i=a("4ea4");a("d3b7"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var o=i(a("1da1")),r=a("9e0c"),n=a("2e3f"),d=a("ecc0"),s=i(a("b35f")),l=(i(a("b760")),{components:{efItem:s.default},mixins:[r.dictMixins],props:{id:{type:String,default:""},type:{type:String,default:"add"},needGet:{type:Boolean,default:!0},details:{type:Object,default:function(){}}},data:function(){return{formList:{dy_findTeamName:[],dy_plCleorg:[]},form:{cleOrgName:"",cleOrg:"",cleTeam:"",cleTeamName:"",cleUser:"",cleUserName:"",cleDate:"",workLeader:"",workLeaderName:"",isLay:1,layDesc:"",cleDesc:"",cleContent:""},rules:{cleOrg:[{required:!0,message:"请选择消缺单位"}],cleUser:[{required:!0,message:"请选择消缺人"}],cleDate:[{required:!0,message:"请选择消缺时间"}],workLeader:[{required:!0,message:"请选择负责人"}],isLay:[{required:!0,message:"请选择是否延期"}]}}},created:function(){this._defFindByDef()},mounted:function(){this.$refs.uForm.setRules(this.rules)},watch:{details:{handler:function(e){if(console.log(e,"缺陷详情处理"),!this.needGet){if(this.form=e,!this.form.cleUserName&&!this.form.cleUser){var t=(0,d.getStore)("userInfo");this.form.cleUserName=t.nick_name,this.form.cleUser=t.user_id}this.getTypelist()}},deep:!0,immediate:!0},form:{handler:function(e){var t=this;console.log(e,"handle的form"),setTimeout((function(){t.$emit("over")}),300)},deep:!0}},methods:{getTypelist:function(){var e=this;"details"!=this.type&&(this.$store.dispatch("getList","YWDW").then((function(t){console.log(t,"运维单位"),e.formList.dy_YWDW=t||[],1!==t.length||e.form.cleOrg||e.form.cleOrgName||(e.form.cleOrgName=t[0].fullName,e.form.cleOrg=t[0].id)})),this.$store.dispatch("getList","YSBZ").then((function(t){console.log(t,"班组"),e.formList.dy_findTeamName=t||[];var a=t||[];1!=a.length||e.form.cleTeam||e.form.cleTeamName||(e.form.cleTeam=a[0].id,e.form.cleTeamName=a[0].fullName,e.selectTeamUserList(e.form.cleTeam))})),this.$store.dispatch("getList","JHXQDW").then((function(t){console.log(t,"计划消缺单位"),e.formList.dy_plCleorg=t||[]})))},submit:function(){var e=this;return new Promise((function(t,a){e.$refs.uForm.validate(function(){var i=(0,o.default)(regeneratorRuntime.mark((function i(o){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!o){i.next=15;break}return console.log(e.form,"form"),e.form.defState="3",i.next=5,e.$refs.chooseImage.getIds();case 5:return e.form.clePic=i.sent,i.next=8,e.$refs.chooseVideo.getIds();case 8:return e.form.cleVid=i.sent,i.next=11,e.$refs.chooseAudio.getIds();case 11:e.form.cleVoi=i.sent,(0,n.defSaveOrUpdate)(e.form).then((function(){e.$refs.uToast.show({title:"处理成功！"}),t()})),i.next=16;break;case 15:a();case 16:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}())}))},_defFindByDef:function(){var e=this;this.needGet&&(0,n.defFindByDef)(this.id).then((function(t){if(console.log(t,"详情"),e.form=t.data.data,!e.form.cleUserName&&!e.form.cleUser){var a=(0,d.getStore)("userInfo");e.form.cleUserName=a.nick_name,e.form.cleUser=a.user_id}e.getTypelist()}))},classChange:function(e){console.log(e,"班组"),this.selectTeamUserList(e.id)}}});t.default=l},f883:function(e,t,a){e.exports=a.p+"static/img/confirm.eace39d0.png"}}]);